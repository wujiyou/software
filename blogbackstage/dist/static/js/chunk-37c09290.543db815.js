(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37c09290"],{"73e5":function(e,t,l){"use strict";var a=l("d967"),o=l.n(a);o.a},a9e0:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"LiqPritingCon"},[l("div",{staticClass:"headerSearrch"},[l("el-row",{staticClass:"searchCon",attrs:{gutter:10}},[l("el-col",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{span:24}},[l("el-col",{attrs:{span:20}},[l("img",{attrs:{src:""}})]),l("el-col",{attrs:{span:2}},[l("el-button",{staticStyle:{"font-size":"13px"},attrs:{type:"success",size:"small"},on:{click:function(t){return e.showAddUserDia()}}},[l("i",{staticClass:"el-icon-plus",staticStyle:{"padding-right":"10px"}}),e._v("新增 ")])],1),l("el-col",{attrs:{span:2}},[l("el-button",{staticStyle:{"font-size":"13px"},attrs:{type:"danger",size:"small",plain:"",icon:"el-icon-delete"},on:{click:e.showDeleUserMsgBox}},[e._v("删除")])],1)],1)],1)],1),l("el-table",{staticStyle:{width:"100%",margin:"20px 5px","padding-bottom":"40px"},attrs:{border:"",data:e.peopleList,"row-style":{height:"40px"},"cell-style":{padding:"0px"}},on:{"selection-change":e.handleCurrentChanges}},[l("el-table-column",{attrs:{type:"selection",width:"50"}}),l("el-table-column",{attrs:{type:"index",label:"序号",width:"50","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[l("p",{staticStyle:{cursor:"pointer"},on:{click:function(l){return e.showEdituser(t.row)}}},[e._v(" "+e._s(t.$index+1)+" ")])]}}])}),l("el-table-column",{attrs:{prop:"createdTime",label:"创建时间","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("fmtdate")(t.row.createdTime)))]}}])}),l("el-table-column",{attrs:{prop:"type",label:"角色类型",formatter:e.ifendcase,"show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"name",label:"角色名称","show-overflow-tooltip":""}}),l("el-table-column",{attrs:{prop:"note",label:"备注","show-overflow-tooltip":""}})],1),l("el-pagination",{staticStyle:{padding:"5px 15px 15px 15px",display:"flex","justify-content":"flex-end"},attrs:{background:"","current-page":e.params.currpage,"page-sizes":[10,15,20,25,30],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),l("el-dialog",{ref:"dialog__wrapper",attrs:{title:"添加角色","close-on-click-modal":!1,visible:e.dialogFormVisibleAdd},on:{"update:visible":function(t){e.dialogFormVisibleAdd=t}}},[l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[l("el-col",{attrs:{span:24}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{staticClass:"red_s",attrs:{label:"角色类型","label-width":"100px",prop:"type"}},[l("el-select",{attrs:{width:"100%",placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.optionsname,(function(e){return l("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1),l("el-col",{attrs:{span:2}}),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"角色名称","label-width":"100px",prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"创建时间","label-width":"100px",prop:"createdTime"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.createdTime,callback:function(t){e.$set(e.form,"createdTime",t)},expression:"form.createdTime"}})],1)],1),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"备注","label-width":"100px",prop:"note"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.note,callback:function(t){e.$set(e.form,"note",t)},expression:"form.note"}})],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"用户名","label-width":"100px",prop:"username"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"密码","label-width":"100px",prop:"password"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisibleAdd=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.AddUser()}}},[e._v("确 定")])],1)],1),l("el-dialog",{attrs:{title:"修改信息","close-on-click-modal":!1,visible:e.dialogFormVisibleEdit},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t}}},[l("el-form",{attrs:{model:e.editUserForm,rules:e.rules}},[l("el-col",{attrs:{span:24}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"角色类型","label-width":"100px",prop:"type"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editUserForm.type,callback:function(t){e.$set(e.editUserForm,"type",t)},expression:"editUserForm.type"}},e._l(e.optionsname,(function(e){return l("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1)],1),l("el-col",{attrs:{span:2}}),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"角色名称","label-width":"100px",prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editUserForm.name,callback:function(t){e.$set(e.editUserForm,"name",t)},expression:"editUserForm.name"}})],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"创建时间","label-width":"100px",prop:"createdTime"}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.createdTime,callback:function(t){e.$set(e.form,"createdTime",t)},expression:"form.createdTime"}})],1)],1),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"备注","label-width":"100px",prop:"node"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editUserForm.note,callback:function(t){e.$set(e.editUserForm,"note",t)},expression:"editUserForm.note"}})],1)],1),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"用户名","label-width":"100px",prop:"username"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),l("el-col",{attrs:{span:10}},[l("el-form-item",{attrs:{label:"密码","label-width":"100px",prop:"password"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editUserForm.password,callback:function(t){e.$set(e.editUserForm,"password",t)},expression:"editUserForm.password"}})],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{hidden:"",label:"Id","label-width":"100px",prop:"id"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:e.editUserForm.id,callback:function(t){e.$set(e.editUserForm,"id",t)},expression:"editUserForm.id"}})],1)],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogFormVisibleEdit=!1}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.EditUser()}}},[e._v("确 定")])],1)],1),l("el-dialog",{attrs:{title:"添加权限","close-on-click-modal":!1,visible:e.dialogFormVisiblesetrole},on:{"update:visible":function(t){e.dialogFormVisiblesetrole=t}}},[l("p",{staticStyle:{margin:"0px 20px 20px 20px"}},[e._v("角色名称："+e._s(this.jiaoname))]),l("el-tree",{ref:"tree",attrs:{top:"1vh",data:e.treeRole,"show-checkbox":"","node-key":"id","default-expand-all":"","default-checked-keys":e.arrcheck,props:e.defaultProps}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){return e.Visiblesetrole()}}},[e._v("取 消")]),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dialogsetrole()}}},[e._v("确 定")])],1)],1)],1)},o=[],s=l("ade3"),r=l("7c15"),i={data:function(){var e;return e={dialogFormVisibleAdd:!1,peopleList:[],params:{pageSize:10,currpage:1}},Object(s["a"])(e,"dialogFormVisibleAdd",!1),Object(s["a"])(e,"dialogFormVisibleEdit",!1),Object(s["a"])(e,"dialogFormVisiblesetrole",!1),Object(s["a"])(e,"jiaoname",""),Object(s["a"])(e,"treeRole",[]),Object(s["a"])(e,"arrcheck",[]),Object(s["a"])(e,"defaultProps",{label:"name",children:"children"}),Object(s["a"])(e,"optionsname",[{id:0,label:"web管理员"},{id:1,label:"企业"},{id:2,label:"机构"}]),Object(s["a"])(e,"total",4),Object(s["a"])(e,"rules",{type:[{required:!0,message:"角色类型不能为空",trigger:"blur"}]}),Object(s["a"])(e,"tableData2",[]),Object(s["a"])(e,"form",{name:"",note:"",type:"",createdTime:"",password:""}),Object(s["a"])(e,"editUserForm",{id:"",name:"",note:"",type:"",createdTime:"",password:""}),Object(s["a"])(e,"delarr",[]),Object(s["a"])(e,"multipleSelection",[]),e},created:function(){this.tableData2=this.tableData,this.getAllPapleData()},methods:{getAllPapleData:function(){var e=this;Object(r["d"])(this.params).then((function(t){console.log(t),e.peopleList=t.data.list}))},handleCurrentChanges:function(e){this.multipleSelection=e},AddUser:function(){var e=this;this.$refs.form.validate((function(t){t?Object(r["z"])(e.form).then((function(t){console.log(t),0==t.code?(e.$message({type:"success",message:"新增成功"}),e.dialogFormVisibleAdd=!1,e.getAllPapleData()):1==t.code?e.$message({type:"warning",message:t.msg}):e.$message({type:"error",message:"新增失败"})})):(e.$message({type:"error",message:"请填写内容再试"}),e.dialogFormVisibleAdd=!0)}))},showDeleUserMsgBox:function(){for(var e=this,t=0;t<=this.multipleSelection.length-1;t++)this.delarr.push(this.multipleSelection[t].id);console.log(this.delarr),""==this.delarr?this.$message({type:"error",message:"请选择需要删除的角色"}):this.$confirm("是否删除角色?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["B"])(e.delarr).then((function(t){console.log(t),e.delarr=[],0==t.code?(e.$message({type:"success",message:t.msg}),e.getAllPapleData()):1==t.code&&e.$message({type:"waring",message:t.msg})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"}),e.delarr=[]}))},showEdituser:function(e){this.dialogFormVisibleEdit=!0,this.editUserForm=e,this.getAllPapleData()},EditUser:function(){var e=this;this.dialogFormVisibleEdit=!1,Object(r["G"])(this.editUserForm).then((function(t){console.log(t),0==t.code?(e.$message({type:"success",message:t.msg}),e.getAllPapleData()):e.$message({type:"error",message:"新增失败"})}))},ifendcase:function(e){return 0==e.type?"web管理员":1==e.type?"企业":2==e.type?"机构":void 0},handleSizeChange:function(e){console.log("每页 ".concat(e," 条")),this.rows=e,this.page=1,this.getAllPapleData()},handleCurrentChange:function(e){console.log("当前页: ".concat(e)),this.page=e,this.getAllPapleData()},showAddUserDia:function(){this.dialogFormVisibleAdd=!0}}},n=i,c=(l("73e5"),l("2877")),p=Object(c["a"])(n,a,o,!1,null,"12014a03",null);t["default"]=p.exports},d967:function(e,t,l){}}]);
//# sourceMappingURL=chunk-37c09290.543db815.js.map