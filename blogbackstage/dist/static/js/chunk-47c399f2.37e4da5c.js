(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47c399f2"],{"14bb":function(e,r,t){"use strict";t.d(r,"a",(function(){return o}));var s=t("bc3a"),i=t.n(s);function o(e){var r=i.a.create({baseURL:"http://localhost:8808",timeout:5e3});return r.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e)})),r(e)}},"73cf":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"loginBox",style:{height:e.getHeight+"px"},attrs:{id:"loginBox"}},[s("div",{staticClass:"login",attrs:{login:""}},[s("el-card",{attrs:{shadow:"always"}},[s("el-avatar",{attrs:{src:t("ede7"),size:80,avatar:""}}),s("div",{staticClass:"form",attrs:{form:""}},[s("el-form",{ref:"register",attrs:{model:e.registerForm,rules:e.rules,"label-width":"70px","label-position":"left"}},[s("el-form-item",{attrs:{label:"用户名",prop:"username"}},[s("el-input",{attrs:{autofocus:""},on:{focus:function(r){e.showUnTip=!0}},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}}),1==e.showUnTip&&""==this.registerForm.username?s("div",{attrs:{tip:""}},[s("p",[e._v(" 1、用户名可以是中文、英文、数字或组合 ")]),s("p",[e._v(" 2、用户名的长度为2~8 ")]),s("p",[e._v(" 3、不能包含特殊字符 ")])]):e._e()],1),s("el-form-item",{attrs:{label:"密 码",prop:"password"}},[s("el-input",{attrs:{"show-password":""},on:{focus:function(r){e.showPsTip=!0}},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}}),1==e.showPsTip&&""==this.registerForm.password?s("div",{attrs:{tip:""}},[s("p",[e._v(" 1、密码可以是中文、英文、数字或组合 ")]),s("p",[e._v(" 2、密码的长度为6~16 ")]),s("p",[e._v(" 3、不能包含特殊字符 ")])]):e._e()],1),s("el-form-item",{attrs:{label:"确认密码",prop:"verifyPass"}},[s("el-input",{attrs:{"show-password":""},model:{value:e.registerForm.verifyPass,callback:function(r){e.$set(e.registerForm,"verifyPass",r)},expression:"registerForm.verifyPass"}})],1),s("el-form-item",{attrs:{label:"邮箱账号",prop:"email"}},[s("el-input",{model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),s("el-form-item",{attrs:{prop:"verifyCode"}},[s("div",{staticClass:"code"},[s("el-input",{model:{value:e.registerForm.verifyCode,callback:function(r){e.$set(e.registerForm,"verifyCode",r)},expression:"registerForm.verifyCode"}}),s("el-button",{attrs:{type:"info",disabled:1==e.showEmailTip},on:{click:e.sendEmail}},[e._v(" 获得邮箱验证码 ")])],1),1==e.showEmailTip?s("p",{style:{padding:0,margin:0,height:"25px",lineHeight:"25px",fontSize:"13px"}},[e._v(" 已发送至验证邮箱，验证码两分钟有效，"+e._s(this.millDecrement)+"秒后重新发送")]):e._e()]),s("el-form-item",[s("el-button",{style:{width:"100%"},attrs:{type:"primary"},on:{click:function(r){return e.register("register")}}},[e._v("注 册")])],1)],1),s("p",{attrs:{toLogin:""}},[s("a",{attrs:{href:"javascript:;"},on:{click:e.toLogin}},[e._v("已注册，前去登录")])])],1)],1)],1)])},i=[],o=t("14bb"),a={name:"Register",data:function(){var e=this,r=function(r,t,s){""===t?s(new Error("请输入用户名")):/^[\u4e00-\u9fa5A-Za-z0-9]{2,16}$/.test(t)?(e.showUnTip=!1,s()):s(new Error("用户名只能输入中文、英文、数字组合，且长度为2-8"))},t=function(r,t,s){""===t?s(new Error("请输入密码")):/^[A-Za-z0-9]{6,16}$/.test(t)?(e.showPsTip=!1,s()):s(new Error("密码可以是数字、英文，且长度为6-16"))},s=function(r,t,s){""===t?s(new Error("请输入确认密码")):t!=e.registerForm.password?s(new Error("两次密码不一致，请重新输入")):s()},i=function(e,r,t){""===r?t(new Error("请输入邮箱账号")):/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/.test(r)?t():t(new Error("请输入正确格式的邮箱账号"))},a=function(r,t,s){""!=t&&Object(o["a"])({url:"/getCheckCode",method:"get",params:{code:t}}).then((function(r){200===r.code?e.checkCode=!0:e.checkCode=!1})),""===t?s(new Error("请输入邮箱账号")):s()};return{showUnTip:!1,showPsTip:!1,showEmailTip:!1,mill:60,height:"",checkCode:!1,registerForm:{username:"",password:"",verifyPass:"",email:"",verifyCode:""},rules:{username:[{validator:r,trigger:"blur"}],password:[{validator:t,trigger:"blur"}],verifyPass:[{validator:s,trigger:"blur"}],email:[{validator:i,trigger:"blur"}],verifyCode:[{validator:a,trigger:"blur"}]}}},computed:{getHeight:function(){return this.height=document.documentElement.clientHeight,this.height},millDecrement:function(){var e=this;setTimeout((function(){e.mill--}),1e3);return 0==this.mill&&(this.mill=60,this.showEmailTip=!1),this.mill}},mounted:function(){var e=this;window.addEventListener("resize",(function(){e.height=document.documentElement.clientHeight}))},methods:{register:function(e){var r=this;this.$refs[e].validate((function(e){e&&(r.checkCode?Object(o["a"])({url:"/toRegister",method:"post",params:{username:r.registerForm.username,password:r.registerForm.password,email:r.registerForm.email}}).then((function(e){200===e.code?(r.$message({type:"success",message:"注册成功，准备跳转到登录页面"}),setTimeout((function(){r.$router.push({path:"/login"})}),3e3)):r.$message.error("注册失败！")})):r.$message.error("校验码错误,请重新输入!"))}))},toLogin:function(){this.$router.push({path:"/login"})},sendEmail:function(){var e=this;""!=this.registerForm.username&&""!=this.registerForm.password&&""!=this.registerForm.verifyPass?Object(o["a"])({url:"/sendCheckCode",method:"get",params:{email:this.registerForm.email}}).then((function(r){200===r.code&&(e.showEmailTip=!0)})):this.$message.error("请先填写用户名和密码")}}},n=a,l=(t("c844"),t("2877")),c=Object(l["a"])(n,s,i,!1,null,"59fe0b16",null);r["default"]=c.exports},"909d":function(e,r,t){},c844:function(e,r,t){"use strict";var s=t("909d"),i=t.n(s);i.a},ede7:function(e,r,t){e.exports=t.p+"static/img/logo.33f17fc5.png"}}]);
//# sourceMappingURL=chunk-47c399f2.37e4da5c.js.map