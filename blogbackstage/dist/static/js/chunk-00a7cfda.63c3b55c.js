(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00a7cfda"],{"14bb":function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o("bc3a"),s=o.n(r);function n(e){var t=s.a.create({baseURL:"http://localhost:8808",timeout:5e3});return t.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e)})),t(e)}},"37b7":function(e,t,o){},a55b:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loginBox",style:{height:e.getHeight+"px"},attrs:{id:"loginBox"}},[r("div",{staticClass:"login",attrs:{login:""}},[r("el-card",{attrs:{shadow:"always"}},[r("el-avatar",{attrs:{src:o("ede7"),size:80,avatar:""}}),r("div",{staticClass:"form",attrs:{form:""}},[r("el-form",{ref:"login",attrs:{model:e.loginForm,rules:e.rules,"label-width":"70px","label-position":"left"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{autofocus:""},on:{focus:function(t){e.showUnTip=!0}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}}),1==e.showUnTip&&""==this.loginForm.username?r("div",{attrs:{tip:""}},[r("p",[e._v(" 1、用户名可以是中文、英文、数字或组合 ")]),r("p",[e._v(" 2、用户名的长度为2~8 ")]),r("p",[e._v(" 3、不能包含特殊字符 ")])]):e._e()],1),r("el-form-item",{attrs:{label:"密 码",prop:"password"}},[r("el-input",{attrs:{"show-password":""},on:{focus:function(t){e.showPsTip=!0}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),1==e.showPsTip&&""==this.loginForm.password?r("div",{attrs:{tip:""}},[r("p",[e._v(" 1、密码可以是中文、英文、数字或组合 ")]),r("p",[e._v(" 2、密码的长度为6~16 ")]),r("p",[e._v(" 3、不能包含特殊字符 ")])]):e._e()],1),r("el-form-item",{attrs:{label:"确认密码",prop:"verifyPass"}},[r("el-input",{attrs:{"show-password":""},model:{value:e.loginForm.verifyPass,callback:function(t){e.$set(e.loginForm,"verifyPass",t)},expression:"loginForm.verifyPass"}})],1),r("el-form-item",{attrs:{marginBottom:""}},[r("el-checkbox",{model:{value:e.autoLogin,callback:function(t){e.autoLogin=t},expression:"autoLogin"}},[e._v("自动登录")]),r("el-checkbox",{model:{value:e.remPs,callback:function(t){e.remPs=t},expression:"remPs"}},[e._v("记住密码")])],1),r("el-form-item",[r("el-button",{style:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.login("login")}}},[e._v("登 录")])],1)],1),r("div",{attrs:{register:"true"}},[r("a",{attrs:{href:"javascript:;"},on:{click:e.toRegister}},[e._v("快速注册")]),r("a",{attrs:{href:"#"}},[e._v("忘记密码？")])])],1)],1)],1)])},s=[],n=(o("14bb"),o("7c15")),i={name:"Login",data:function(){var e=this,t=function(t,o,r){""===o?r(new Error("请输入用户名")):/^[\u4e00-\u9fa5A-Za-z0-9]{2,16}$/.test(o)?(e.showUnTip=!1,r()):r(new Error("用户名只能输入中文、英文、数字组合，且长度为2-8"))},o=function(t,o,r){""===o?r(new Error("请输入密码")):/^[A-Za-z0-9]{6,16}$/.test(o)?(e.showPsTip=!1,r()):r(new Error("密码可以是数字、英文，且长度为6-16"))},r=function(t,o,r){""===o?r(new Error("请输入确认密码")):o!=e.loginForm.password?r(new Error("两次密码不一致，请重新输入")):r()};return{showUnTip:!1,showPsTip:!1,autoLogin:!1,remPs:!1,height:"",loginForm:{username:"",password:"",verifyPass:""},rules:{username:[{validator:t,trigger:"blur"}],password:[{validator:o,trigger:"blur"}],verifyPass:[{validator:r,trigger:"blur"}]}}},methods:{login:function(e){var t=this;this.$refs[e].validate((function(e){var o={username:t.loginForm.username,password:t.loginForm.password};if(e)if(Object(n["y"])(o).then((function(e){if(console.log(e),null!=e&&200===e.code){if(1==t.remPs){var o=new Array;o.push({remember:!0,user:e.data}),window.localStorage.setItem("remember",JSON.stringify(o))}1==t.autoLogin&&window.localStorage.setItem("autoLogin",t.autoLogin),sessionStorage.setItem("user",JSON.stringify(e.data)),t.$router.push({path:"/home"})}})),"test"===t.loginForm.username&&"test123"===t.loginForm.password&&"test123"===t.loginForm.verifyPass){var r=new Object;r.username=t.loginForm.username,r.password=t.loginForm.password,sessionStorage.setItem("profile",JSON.stringify({username:r.username,token:"154954264jun"})),t.$message({type:"success",message:"登录成功",duration:2e3}),t.$router.push({path:"/home"})}else t.$message.error("登录失败，用户名或密码错误，请重新登录"),t.$router.push({path:"/login"})}))},toRegister:function(){this.$router.push({path:"/register"})}},computed:{getHeight:function(){return this.height=document.documentElement.clientHeight,this.height}},mounted:function(){var e=this;window.addEventListener("resize",(function(){e.height=document.documentElement.clientHeight})),window.addEventListener("keyup",(function(t){"Enter"==t.key&&e.login("login")}));var t=window.localStorage.getItem("remember");null!=t&&(this.remPs=t.remember,this.loginForm.username=t.user.username,this.loginForm.password=t.user.password)}},a=i,l=(o("b585"),o("2877")),u=Object(l["a"])(a,r,s,!1,null,"5ac3ec6e",null);t["default"]=u.exports},b585:function(e,t,o){"use strict";var r=o("37b7"),s=o.n(r);s.a},ede7:function(e,t,o){e.exports=o.p+"static/img/logo.33f17fc5.png"}}]);
//# sourceMappingURL=chunk-00a7cfda.63c3b55c.js.map