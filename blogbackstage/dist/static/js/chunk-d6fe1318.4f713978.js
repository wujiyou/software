(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d6fe1318"],{"14bb":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("bc3a"),i=a.n(n);function r(e){var t=i.a.create({baseURL:"http://localhost:8808",timeout:5e3});return t.interceptors.response.use((function(e){return e.data}),(function(e){console.log(e)})),t(e)}},"22bd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.visible(!0,1,"")}}}),e._m(0),a("el-dialog",{attrs:{title:"添加导航标题",visible:e.dialogVisible,width:"55%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("CreateNav",{attrs:{level:this.level},on:{"chil-result":e.getResult}}):e._e()],1),a("el-collapse",{attrs:{accordion:""},on:{change:e.openCollapse},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.navData,(function(t){return a("el-collapse-item",{key:t.nid,attrs:{title:t.title,name:t.nid}},[0!=e.childNavData.length?e._l(e.childNavData,(function(n){return a("div",{key:t.ncid},[t.nid==n.navNumber?a("p",[e._v(" "+e._s(n.childTitle)+" ")]):e._e()])})):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",circle:"",size:"mini"},on:{click:function(a){return e.visible(!0,2,t.nid)}}}),a("span",{staticStyle:{color:"#C0C4CC"}},[a("i",{staticClass:"el-icon-back"}),e._v("生成导航栏请点这")])],2)})),1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticStyle:{color:"#C0C4CC"}},[a("i",{staticClass:"el-icon-back"}),e._v("生成导航栏请点这")])}],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":"","label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入导航标题"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"路径",prop:"path"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入全英文的导航路径"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onCreate("form")}}},[e._v("立即创建")])],1)],1)},l=[],o=(a("b0c0"),{name:"CreateNav",data:function(){var e=function(e,t,a){""===t?a(new Error("请输入导航标题")):a()},t=function(e,t,a){""===t?a(new Error("请输入导航路径，路径不能为空")):/^[a-zA-Z]+$/.test(t)?a():a(new Error("路径只能由英文组成"))};return{form:{name:"",path:"",level:"",openChildren:!1},rules:{name:[{validator:e,trigger:"blur"}],path:[{validator:t,trigger:"blur"}]}}},methods:{onCreate:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message({duration:2e3,type:"error",message:"校验错误，请重新填写"}),!1;t.$emit("chil-result",t.form.name,"/"+t.form.path)}))}}}),c=o,s=a("2877"),u=Object(s["a"])(c,r,l,!1,null,"7c78f17a",null),d=u.exports,f=a("14bb");function m(e,t){return Object(f["a"])({url:"/setNav",data:{title:e,path:t},method:"post"})}function h(){return Object(f["a"])({url:"/getNav",method:"post"})}function p(e,t,a){return Object(f["a"])({url:"/setChildNav",method:"post",data:{navNumber:e,childTitle:t,childPath:a}})}function v(e){return Object(f["a"])({url:"/getChildNav",method:"get",params:{parentIndex:e}})}var b={name:"SetNav",data:function(){return{dialogVisible:!1,navData:[],childNavData:[],currChildIndex:0,level:0,activeName:0}},methods:{getResult:function(e,t){var a=this;null!=e&&null!=t&&(1===this.level?m(e,t).then((function(n){"013"===n.code?(a.$message({duration:2e3,type:"success",message:n.msg}),a.navData.push({title:e,path:t}),a.dialogVisible=!1):"014"===n.code&&a.$message.error(n.msg)})).catch((function(e){console.log(e)})):2===this.level&&p(this.currChildIndex,e,t).then((function(e){"015"===e.code?(a.$message({duration:2e3,type:"success",message:e.msg}),v(a.activeName).then((function(e){"200"===e.code&&(a.childNavData=e.data)})),a.dialogVisible=!1):"016"===e.code&&a.$message.error(e.msg)})).catch((function(e){console.log(e)})))},visible:function(e,t,a){this.dialogVisible=e,this.level=t,this.currChildIndex=a},openCollapse:function(e){var t=this;v(e).then((function(e){"200"===e.code&&(t.childNavData=e.data)}))}},created:function(){var e=this;h().then((function(t){"200"===t.code&&(e.navData=t.data)})).catch((function(e){console.log(e)}))},components:{CreateNav:d}},g=b,C=(a("6a56"),Object(s["a"])(g,n,i,!1,null,"3cb174f0",null));t["default"]=C.exports},"6a56":function(e,t,a){"use strict";var n=a("99c4"),i=a.n(n);i.a},"99c4":function(e,t,a){},b0c0:function(e,t,a){var n=a("83ab"),i=a("9bf2").f,r=Function.prototype,l=r.toString,o=/^\s*function ([^ (]*)/,c="name";!n||c in r||i(r,c,{configurable:!0,get:function(){try{return l.call(this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-d6fe1318.4f713978.js.map